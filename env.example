IMAGE_PREFIX="epa4/"
# Docker Images and Versions
# NOTE: The value below is used as a build-time ARG when building the InfluxDB image.
# Editing this .env value alone will not change already-built images. To use a different
# InfluxDB build version you must pass --build-arg INFLUXDB3_BUILD_VERSION=<ver> when
# running `docker build` (or rebuild with compose/build). The InfluxDB Dockerfile also provides
# a default (3.5.0) via ARG so the image will still build without extra args.
# Do NOT rely on shell-style ${VAR:-default} semantics inside Dockerfile variable
# interpolation; use build-args or the ARG default above.
INFLUXDB3_VERSION=3-core
INFLUXDB3_BUILD_VERSION=3.5.0
INFLUXDB3_EXPLORER_VERSION=1.3.0
PYTHON_VERSION=3.12.11-alpine3.22
PYTHON_DIGEST=sha256:c610e4a94a0e8b888b4b225bfc0e6b59dee607b1e61fb63ff3926083ff617216
# At least 12.2 needed to work with TLS creaed by internal CA (what influxdb uses, unless you go via the proxy)
GRAFANA_VERSION=12.2
# GRAFANA_VERSION=main-ubuntu # Docker Hub "latest"
NGINX_IMAGE=1.29.1-perl
INFLUXDB_MCP_VERSION=latest
VERSITY_S3GW_VERSION=1.0.14

# Collector Configuration
COLLECTOR_VERSION=4.0.0
COLLECTOR_LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
COLLECTOR_LOG_FILE=/data/samples/out/collector.log
MAX_ITERATIONS=0
# SYSTEM_ID=   # Optional, filter JSON replay to specific system ID (WWN) - only used with FROM_JSON

# E-Series SANtricity Configuration (override these for your environment)
API=2.2.2.2 3.3.3.3
SANTRICITY_USERNAME=monitor
SANTRICITY_PASSWORD=------
# Proxy Configuration
PROXY_HOST=proxy.datafabric.lan   # Change to your host's IP or DNS name as needed

# Network Configuration
# Fixed IPs help with automation of credentials/tokens, best leave as-is to have it "just work"
EPA_SUBNET=172.60.0.0/24
PROXY_IP=172.60.0.250
INFLUXDB_IP=172.60.0.11
EPA_COLLECTOR=172.60.0.12
UTILS_IP=172.60.0.13
GRAFANA_IP=172.60.0.14
EXPLORER_IP=172.60.0.15
INFLUX_MCP_IP=172.60.0.16
S3_IP=172.60.0.251

# Port Configuration
PROXY_HTTP_PORT=18080       # redirect to 18443
PROXY_HTTPS_PORT=18443      # Proxy server's main HTTPS port and "home page"
PROXY_INFLUXDB_PORT=18181   # external HTTPS, forwards to INFLUXDB_PORT
PROXY_EXPLORER_PORT=18843   # external HTTPS, forwards to EXPLORER_PORT
PROXY_INFLUX_MCP_PORT=18183 # external HTTPS, forwards to INFLUX_MCP_PORT
PROXY_PROMETHEUS_PORT=20443 # external HTTPS, forwards to PROMETHEUS_PORT
PROXY_GRAFANA_PORT=21443    # external HTTPS, forwards to GRAFANA_PORT
# PROXY_S3_PORT=138443        # external HTTPS, forwards to S3_PORT

EXPLORER_PORT=443           # InfluxDB Explorer HTTPS
GRAFANA_PORT=3443           # Grafana HTTPS
INFLUX_MCP_PORT=8183        # InfluxDB MCP HTTPS
INFLUXDB_PORT=8181          # InfluxDB HTTPS
PROMETHEUS_PORT=8000        # Prometheus metrics server
# S3_PORT=38443               # internal HTTPS

# S3 Configuration for InfluxDB (only if S3 object store is used (not the case in default configuration))
# Credentials are supposed to be auto-issued after first stack run
S3_ACCESS_KEY=influxdb3_admin
S3_SECRET_KEY=influxdb3_admin_secret
S3_BUCKET=influxdb

# InfluxDB Configuration
# INFLUXDB_ADMIN_TOKEN is created after first stack run 
INFLUXDB_ADMIN_TOKEN=influxdb3_admin_token
INFLUXDB_HOST=influxdb
INFLUXDB_DB=epa
INFLUXDB_NODE_ID=node0
# Disable anonymous usage analytics (InfluxDB3 specific)
INFLUXDB3_TELEMETRY_DISABLE_UPLOAD=true
WAL_FLUSH_INTERVAL=30s

# Influx MCP Server
INFLUX_DB_TOKEN=influxdb3_user_token

# Grafana Configuration
# If empty, the usual Grafana defaults are used. Override as needed
GRAFANA_ADMIN_USER=
GRAFANA_ADMIN_PASSWORD=
# May be left blank if you do not want to use the Grafana API to push alerts from the collector to Grafana 
# This is in place in the code, but not in effect. Provide feedback on Github if you need this
GRAFANA_API_URL=
GRAFANA_API_TOKEN=
